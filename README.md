# Azure Pipelines Docs Generator

- Generates markdown files with documentation from Azure Pipelines YAML templates.
- After generating markdown files they could be served with a tool like MkDocs, therefore: automatic pipeline documentation from Ops to Dev.
- Should be plug and play into YAML templates and take advantage of the native YAML properties instead of forcing new ones to be added with comments.

## The Example

The output of this script is a markdown file with the YAML template parameters and has been committed into source control. You can check it out at [output.md](output.md).

The source template is sample pipeline template generated by ChatGPT and is stored in the `sample_templates` folder, but here is the relevant part:

```yaml
parameters:
  - name: containerRegistry

    type: string
    default: "myContainerRegistry"
    displayName: "Container Registry"
    values:
      - "myContainerRegistry"
      - "anotherRegistry"

  - name: imageName
    type: string
    default: "my-app"

    displayName: "Docker Image Name"

  - name: imageTag

    type: string
    default: "latest"
    displayName: "Docker Image Tag"

  - name: dockerfilePath
    type: string

    default: "Dockerfile"

    displayName: "Path to Dockerfile"

  - name: buildContext
    type: string

    default: "."
    displayName: "Docker Build Context"

  - name: enableBuildKit

    type: boolean
    default: false
    displayName: "Enable BuildKit"

  - name: additionalDockerArgs
    type: string
    default: ""
    displayName: "Additional Docker Build Arguments"

  - name: azureSubscription
    type: string
    default: "myAzureSubscription"
    displayName: "Azure Subscription"
```

## Checklist

- [x] Get the YAML template in memory
- [x] Create objects with relevant information for each parameter
- [x] Generate markdown table with parameters and their properties
- [x] Put markdown table in the middle of a template
- [ ] Move different responsibilities out of `main.py`
- [ ] Summarize steps based on their displayNames
